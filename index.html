<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Senac Labs Dashboard</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
<link crossorigin="" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" rel="stylesheet"/>
<script crossorigin="" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#3b82f6",
                        "background-light": "#f0f4f8",
                        "background-dark": "#1e293b",
                        "card-light": "#ffffff",
                        "card-dark": "#2a374a"
                    },
                    fontFamily: {
                        display: ["Inter"],
                    },
                    borderRadius: {
                        DEFAULT: "0.5rem",
                        lg: "0.75rem",
                        xl: "1rem",
                        full: "9999px"
                    },
                },
            },
        };
    </script>
<style>
        .material-symbols-outlined {
            font-variation-settings: "FILL" 0, "wght" 400, "GRAD" 0, "opsz" 24;
        }
        body {
            background-color: #f0f4f8;
        }
        .dark body {
            background-color: #1e293b;
        }
        
        /* Estilos do Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.9);
        }
        
        .modal-header {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            font-size: 18px;
            font-weight: bold;
            z-index: 1001;
            text-align: center;
            max-width: 80%;
        }
        
        .modal-counter {
            position: absolute;
            top: 50px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            font-size: 14px;
            z-index: 1001;
        }
        
        .close {
            position: absolute;
            top: 20px;
            right: 35px;
            color: #f1f1f1;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
            z-index: 1001;
        }
        
        .close:hover,
        .close:focus {
            color: #bbb;
        }
        
        .nav-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(255,255,255,0.3);
            color: white;
            border: none;
            padding: 20px;
            font-size: 30px;
            cursor: pointer;
            z-index: 1001;
            border-radius: 5px;
        }
        
        .nav-arrow:hover {
            background-color: rgba(255,255,255,0.5);
        }
        
        .nav-arrow.prev {
            left: 20px;
        }
        
        .nav-arrow.next {
            right: 20px;
        }
        
        .nav-arrow:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }
        
        .modal-content {
            position: relative;
            margin: auto;
            padding: 80px 20px 120px;
            width: 90%;
            max-width: 1200px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        
        .modal-content img,
        .modal-content video {
            max-width: 100%;
            max-height: 80vh;
            object-fit: contain;
        }
        
        .loading-spinner {
            border: 5px solid #f3f3f3;
            border-top: 5px solid #3498db;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .thumbnail-indicators {
            position: absolute;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
            max-width: 90%;
            z-index: 1001;
        }
        
        .thumbnail-indicator {
            width: 60px;
            height: 60px;
            cursor: pointer;
            border: 3px solid transparent;
            border-radius: 5px;
            overflow: hidden;
            position: relative;
        }
        
        .thumbnail-indicator.active {
            border-color: #3b82f6;
        }
        
        .thumbnail-indicator img,
        .thumbnail-indicator video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .thumb-play {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 20px;
            text-shadow: 0 0 5px black;
        }
        
        .modal-controls {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 1001;
        }
        
        .modal-btn {
            background-color: rgba(59, 130, 246, 0.8);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
        }
        
        .modal-btn:hover {
            background-color: rgba(59, 130, 246, 1);
        }
        
        /* Estilos do Popup customizado */
        .custom-popup {
            font-family: 'Inter', sans-serif;
        }
        
        .popup-header {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
            padding: 12px 16px;
            border-radius: 8px 8px 0 0;
            margin: -12px -16px 12px;
        }
        
        .popup-title {
            font-weight: 700;
            font-size: 16px;
            margin-bottom: 4px;
        }
        
        .popup-subtitle {
            font-size: 13px;
            opacity: 0.9;
        }
        
        .popup-info p {
            margin: 8px 0;
            font-size: 13px;
            line-height: 1.5;
        }
        
        .media-gallery {
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid #e5e7eb;
        }
        
        .gallery-title {
            font-weight: 600;
            font-size: 14px;
            margin-bottom: 8px;
            color: #374151;
        }
        
        .label-midia {
            font-size: 12px;
            color: #6b7280;
            margin-bottom: 8px;
        }
        
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 8px;
            margin-top: 8px;
        }
        
        .gallery-item {
            position: relative;
            aspect-ratio: 1;
            cursor: pointer;
            border-radius: 6px;
            overflow: hidden;
            border: 2px solid #e5e7eb;
            transition: transform 0.2s, border-color 0.2s;
        }
        
        .gallery-item:hover {
            transform: scale(1.05);
            border-color: #3b82f6;
        }
        
        .gallery-item img,
        .gallery-item video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .play-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 24px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }
        
        .media-type-indicator {
            position: absolute;
            bottom: 4px;
            left: 4px;
            background-color: rgba(0,0,0,0.7);
            color: white;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: 600;
        }
        
        .no-media {
            text-align: center;
            padding: 20px;
            color: #6b7280;
            font-size: 14px;
        }
    </style>
</head>
<body class="font-display text-gray-800 dark:text-gray-200">
<div class="flex min-h-screen w-full flex-col">
<header class="sticky top-0 z-10 flex h-16 items-center justify-between border-b border-gray-200/80 dark:border-gray-800/50 bg-background-light/90 dark:bg-background-dark/90 px-4 backdrop-blur-sm sm:px-6 lg:px-8">
<div class="flex items-center gap-3">
<div class="flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 text-primary">
<span class="material-symbols-outlined text-2xl">science</span>
</div>
<h1 class="text-xl font-bold text-gray-900 dark:text-white">Lab Saúde</h1>
</div>
<div class="flex items-center gap-4">
<button class="md:hidden">
<span class="material-symbols-outlined">menu</span>
</button>
</div>
</header>
<main class="flex-1 p-4 sm:p-6 lg:p-8">
<div class="mx-auto max-w-screen-2xl">
<div class="mb-8">
<h2 class="text-3xl font-extrabold tracking-tight text-gray-900 dark:text-white sm:text-4xl">Acompanhamento Lab Saúde</h2>
<p class="mt-2 text-lg text-gray-600 dark:text-gray-400">Programa Nacional de Tecnologias Educacionais</p>
</div>
<div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 mb-8">
<div class="overflow-hidden rounded-lg bg-card-light dark:bg-card-dark shadow-md border border-gray-200/50 dark:border-gray-800/50">
<div class="p-5">
<div class="flex items-center">
<div class="flex-shrink-0">
<span class="material-symbols-outlined text-3xl text-primary">corporate_fare</span>
</div>
<div class="ml-5 w-0 flex-1">
<dl>
<dt class="truncate text-sm font-medium text-gray-500 dark:text-gray-400">DRs com laboratórios</dt>
<dd>
<div class="text-2xl font-bold text-gray-900 dark:text-white" id="totalEstados">24</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="overflow-hidden rounded-lg bg-card-light dark:bg-card-dark shadow-md border border-gray-200/50 dark:border-gray-800/50">
<div class="p-5">
<div class="flex items-center">
<div class="flex-shrink-0">
<span class="material-symbols-outlined text-3xl text-primary">apartment</span>
</div>
<div class="ml-5 w-0 flex-1">
<dl>
<dt class="truncate text-sm font-medium text-gray-500 dark:text-gray-400">Unidades atendidas</dt>
<dd>
<div class="text-2xl font-bold text-gray-900 dark:text-white" id="totalUnidades">47</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="overflow-hidden rounded-lg bg-card-light dark:bg-card-dark shadow-md border border-gray-200/50 dark:border-gray-800/50">
<div class="p-5">
<div class="flex items-center">
<div class="flex-shrink-0">
<span class="material-symbols-outlined text-3xl text-primary">person</span>
</div>
<div class="ml-5 w-0 flex-1">
<dl>
<dt class="truncate text-sm font-medium text-gray-500 dark:text-gray-400">Manequins financiados</dt>
<dd>
<div class="text-2xl font-bold text-gray-900 dark:text-white">40</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
<div class="lg:col-span-2">
<h3 class="text-lg font-medium leading-6 text-gray-900 dark:text-white mb-4">Mapa de Unidades com Laboratórios</h3>
<div class="overflow-hidden rounded-lg bg-card-light dark:bg-card-dark shadow-md border border-gray-200/50 dark:border-gray-800/50">
<div class="h-[550px] w-full" id="map"></div>
</div>
</div>
<div class="lg:col-span-1 flex flex-col gap-8">
<div>
<h3 class="text-lg font-medium leading-6 text-gray-900 dark:text-white mb-4">Distribuição de unidades por núcleo</h3>
<div class="overflow-hidden rounded-lg bg-card-light dark:bg-card-dark shadow-md border border-gray-200/50 dark:border-gray-800/50 p-6">
<div class="h-[195px] flex justify-center items-center">
<canvas id="regionChart"></canvas>
</div>
</div>
</div>
<div>
<h3 class="text-lg font-medium leading-6 text-gray-900 dark:text-white mb-4">DR's com mais unidades</h3>
<div class="overflow-hidden rounded-lg bg-card-light dark:bg-card-dark shadow-md border border-gray-200/50 dark:border-gray-800/50 p-6">
<div class="h-[195px] flex justify-center items-center">
<canvas id="drChart"></canvas>
</div>
</div>
</div>
</div>
</div>
<div class="mt-8">
<h3 class="text-lg font-medium leading-6 text-gray-900 dark:text-white mb-4">Dados de matrícula no curso técnico de enfermagem em unidades com manequins</h3>
<div class="overflow-hidden rounded-lg bg-card-light dark:bg-card-dark shadow-md border border-gray-200/50 dark:border-gray-800/50">
<div class="overflow-x-auto">
<table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
<thead class="bg-gray-50 dark:bg-gray-800/50">
<tr>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider" scope="col">Departamento Regional</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider" scope="col">Unidade</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider" scope="col">Matrículas Técnico em Enfermagem 2024</th>
<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider" scope="col">Matrículas Técnico em Enfermagem 2025</th>
</tr>
</thead>
<tbody class="bg-card-light dark:bg-card-dark divide-y divide-gray-200 dark:divide-gray-700" id="tabela-unidades">
</tbody>
</table>
</div>
</div>
</div>
</div>
</main>
</div>

<!-- Modal para visualizar imagens e vídeos -->
<div id="mediaModal" class="modal">
    <div class="modal-header">
        <span id="modalTitle"></span>
    </div>
    <div class="modal-counter">
        <span id="modalCounter"></span>
    </div>
    <span class="close">&times;</span>
    
    <button class="nav-arrow prev" id="prevBtn" onclick="navigateMedia('prev')">‹</button>
    <button class="nav-arrow next" id="nextBtn" onclick="navigateMedia('next')">›</button>
    
    <div class="modal-content">
        <div class="loading-spinner" id="loadingSpinner" style="display: none;"></div>
        <img id="modalImage" src="" alt="" style="display: none;">
        <video id="modalVideo" controls style="display: none;">
            Seu navegador não suporta vídeos HTML5.
        </video>
    </div>
    
    <div class="thumbnail-indicators" id="thumbnailIndicators"></div>
    
    <div class="modal-controls">
        <button class="modal-btn" onclick="downloadMedia()">📥 Download</button>
        <button class="modal-btn" onclick="fullscreenMedia()">⛶ Tela Cheia</button>
        <button class="modal-btn" onclick="playSlideshow()" id="slideshowBtn">🎮 Slideshow</button>
    </div>
</div>

<script src="script.js"></script>
</body>
</html>
